
\chapter{\docname}
% !TeX spellcheck = de_DE
\label{\docname}
Am Beginn wird eine allgemeinere Übersicht dieses Diplomarbeitskapitels gemacht bzw. dargestellt. Damit wird es verstanden, worum es überhaupt in diesem Teil geht.
\section{Allgemeines}
%In der heutigen Zeit ist die Technologie eines der wichtigsten Themen für die Welt. Mithilfe der Technologie hat die Menschheit wesentliche Fortschritte gemacht im Bereich der Lebensqualitätsverbesserung und -erleichterung. Mehr als jemals zuvor kommen intelligente Systeme zum Einsatz, die den Arbeitsaufwand und die Arbeitskomplexität reduzieren. Diese Systeme werden in den wichtigsten Bereiche des Lebens verwendet, wie zum Beispiel: Menschlichen Beziehungen, Business, Transport, Banken, Medizin, Bildung und Kommunikation. Selbstverständlich gibt es zahlreiche Versuche von verschiedenen Menschen, auf diesen Systemen zu zugreifen. Deshalb ist die Sicherheit in diesen Systemen eine der aktuellsten und wichtigsten Themen. Der unkontrollierte Zugriff auf solche wichtigen und delikaten Systeme würde zu fatalen Konsequenzen führen. Aus diesem Grund muss sehr genau und detailliert geplant werden, welche Sicherheit Strategien die klügsten bzw. die Besten sind.   

%Das Hauptthema dieses Projekts ist genau die Sicherheit der Systeme, und zwar die Ermöglichung des kontrollierten Zugriffs von Menschen in verschiedenen Gebäuden. Es wurde die Verantwortlichkeit übernommen, der Zugriff in der Österreichischen Schule “Peter Mahringer” überwiesen und kontrolliert zu machen. Zu diesem Zweck wird in diesem Projekt ein intelligentes System entwickelt, dass die Aufgabe hat, menschliche Gesichter (Gesichtern von Schülern, Lehrern, Eltern usw.) zu registrieren und zu erkennen. Es wird höchstwahrscheinlich in der Schultür integriert, weil dort müssen alle Personen unbedingt vorbeigehen. Dieses Projekt wird eine große Hilfe für die Schule sein, aufgrund der von Kameras und komplexen Algorithmen angebotenen Möglichkeiten. Beispielweise wird es überprüft, ob die Person, die reinkommt ein Student oder Lehrer ist, oder es wird notiert, wer die Schule wann verlässt oder besucht. Hat eine Person kein Zugriff, wird sie nicht herein gelassen.

%Um dieses Projekt zu realisieren, wird das Projekt in drei große und wichtige Teile zerlegt. Das erste Teil heißt Bildverarbeitung und hat die Aufgabe, Gesichtsbildern von der Kamera zu normalisieren und zu verarbeiten, damit sie in geeigneten Format für den Gesichtsvergleichung sind. Der zweite Teil beschäftigt sich mit der Registrierung der Gesichter von Personen am Server. Der dritte Teil ist die Gesichtserkennung. Hier geht es um die Erkennung der Gesichter der Benutzer des Systems. 
Die Gesichtserkennung ist der Teil des Systems, mit dem ich mir beschäftige.
Es wird durch einen Vergleich überprüft, ob die Person vorher schon registriert worden ist oder nicht, und ob sein Gesichtsdaten schon am Server existieren oder nicht. Nur wenn die Vergleichsergebnisse positiv sind, darf die Person rein kommen.
Der Person werden die Ergebnisse durch Anzeigern kommuniziert. Dieses Teil des Projektes erfordert eine Arbeit mit Datenbanken, Gesichtsvergleichsalgorithmen und mit vielen System Tests. Teil meiner Aufgabe ist auch der Aufbau des Systems und alles was mit Hardware zu tun hat. Alle Hardware Komponenten werden in den folgenden Kapiteln klar, verständlich und deutlich erklärt. Eine grobe Skizze des Systems ist in Abb.\ref{fig:grobe_Skizze} zu sehen.
\begin{figure}[H]
	\includegraphics[width=\textwidth]{\ordnerfigures Capture.png}
	\caption{Grobe Skizze des Systems}
	\label{fig:grobe_Skizze}
\end{figure}
\section{Technische Lösung}
In diesem Section wird eine feinere und detaillierte Übersicht im Bezug auf der technischen Lösung gemacht. Alles was mit Technik zu tun hat, wird hier erklärt und umgefasst.
\subsection{Hardware und Aufbau}
Als erstens wird der Aufbau des Systems beschrieben, zusammen mit allen verwendeten Komponenten, die zu verwenden sind. Ohne die Hardware würde nichts funktionieren, weil die Software ohne die Hardware einfach nicht funktionieren kann.
\subsubsection{Bauteile und HW-Komponenten}
Die Bauteile, die für dieses System verwendet geworden sind, sind die folgende:
\begin{enumerate}
	\item \textit{Steckboard bzw. Steckplatine}\\ 
	Die Steckplatine ist die wichtigste Komponente der Hardware unseres Systems. Sie wird für die Entstehung der elektrischen Verbindung von verschiedenen elektrischen Bauteile benötigt, um elektrische Schaltungen zu bauen oder um verschiedene Tests und Experimenten zu machen. In dieser Steckplatine werden alle anderen Komponenten platziert, damit die Verbindung erstellt werden kann und damit das System laufen kann.
	\item \textit{Kabel bzw. Leiter} \\
	Damit die verschiedenen Komponenten, die in der Steckplatine platziert sind, miteinander verbunden werden können, braucht man unbedingt Kabel. Mithilfe von Kabeln können elektrische Impulse und Signale fließen, damit die Energie und die Information übertragen werden. Die verwendeten Kabel sind aus Kupfer und vom Typ Male-Male als auch vom Typ Male-Female. Die Kabeln vom Typ Male-Female werden verwendet, um die Verbindungen zwischen die Elemente in der Steckplatine und den Raspberry Pi zu ermöglichen. Auf der anderen Seite werden die Male-Male Kabeln verwendet um die Verbindungen innerhalb der Steckplatine zu ermöglichen.
	\item \textit{LEDs}\footnote{Light Emitting Diode} \\
	LEDs sind elektronische Halbleiter Elemente, die Licht produzieren können, wenn sie Spannung kriegen. Ein LED besteht aus zwei Beinen. Das längere Bein ist die Anode, die den Pluspol symbolisiert. Das andere Bein ist die Kathode, und symbolisiert den Minuspol. Durch die Beine wird der Kontakt mit der Steckplatine erstellt.
	\item \textit{Widerstand} \\
	Ein Widerstand ist ein elektrisches Bauteil, das zur Reduzierung von Strom verwendet wird, damit ein Gleichgewicht zwischen Strom und Spannung gesichert werden kann. Die Einheit ist Ohm.
	\item \textit{Taster} \\
	Ein Taster wird wie ein Button gedrückt, mit dem Zweck Impulse oder Signale zu schicken. Im Gegenteil zu einem Schalter wird der Taster nach der Betätigung  wieder in der Basiszustand zurückgestellt. Ein Plusleiter, Minusleiter und ein Datenleiter sind bei einem Taster vorhanden.
	\item \textit{Raspberry Pi} \\
	Raspberry Pi ist ein Minicomputer, der in diesem Projekt den normalen Computer ersetzt. Der verwendete Raspberry, Version 3, hat 4 USB-Anschlüsse, einem Netzteil, eine SD-Karte, 16 GPIO\footnote{Generated Input Output} Pins und einem VGA Schnittstelle. Die 32-Bit SD-Karte ist das wichtigste Element, weil dort alle Daten und Informationen gespeichert sind.
	\item \textit{Bildschirm} \\
	Ein Bildschirm ist eine Anzeige, die für die visuelle Darstellung von verschiedenen Informationen oder Daten(wie Videos, Fotos, Statistiken usw.) verwendet wird. Ein Bildschirm wird zu den heutigen Zeiten sehr häufig verwendet, aufgrund der hohen Benutzerfreundlichkeit, die angeboten wird.
	\item \textit{Tastatur} \\
	Eine Tastatur ist ein Input Gerät, dass durch das Eindrücken von Tastern den Benutzer die Eingabe von Daten oder Befehle ermöglicht.
	\item \textit{Kamera} \\
	Letztens werden 2 Kameras benötigt, die die Fotos der Gesichter der Personen machen werden. Sie werden auch im Raspberry integriert bzw. mit dem Raspberry verbunden. Die Kameras sind auf Typ Aukey.
\end{enumerate}
\subsubsection{Schaltplan und Erklärung des Aufbaus}
Die Hardware Komponenten werden in einer Steckplatine platziert. Dort werden die Verbindungen mit den anderen Komponenten sowie mit dem Raspberry Pi erstellt. Die elektrische Schaltung wird durch einen Schaltplan beschrieben. Dieser Schaltplan wurde mit Hilfe eines Programms, das Fritzing heißt, erstellt und spielt eine sehr wichtige Rolle bei der Organisation und Planung des Schaltkreises. Der Schaltplan ist auf Abb.\ref{fig:Schaltplan} zu sehen.
\begin{figure}[H]
	\includegraphics[width=\textwidth]{\ordnerfigures Schaltplan.png}
	\caption{Schaltplan des Systems}
	\label{fig:Schaltplan}
\end{figure}
Wie der Schaltplan zeigt, besteht das System aus zwei LEDs, zwei Tastern, einem Widerstand, eine Steckplatine und einem Raspberry Pi. Sehr wichtig für den Aufbau der Schaltung sind die GPIO Pins. Diese Pins sind in dem Raspberry Pi platziert und können als Input, als Output oder Spannung Pins verwendet werden. 
Der erste Taster dient für die Gesichtsregistrierung und besteht aus einem Pluspol, einem Datenleiter und aus dem Minuspol. Der Pluspol Anschluss wird mittels Steckplatine mit dem 5-Volt Pin des Raspberry Pi verbunden, während der Minuspol Anschluss mit dem Minuspol der Steckplatine verbunden wird. Der Datenanschluss ist mit dem GPIO18 Pin verbunden. Wie bei dem Registrierungs-Taster wird auch bei dem Erkennungstaster\footnote{Auch als Login Taster genannt} der Minuspol Anschluss mit einem Pin des Minusbereichs der Steckplatine verbunden. Der Pluspol Anschluss gehört zu dem 5-Volt Pin des Raspberry PI, während der Datenanschluss mit dem GPIO17 Pin verbunden sind. Die rote LED wird verwendet wenn die Registrierung oder Erkennung der Benutzer im System nicht erfolgreich war. Das längere Bein(die Anode) wird mit dem GPIO23 Pin des Raspberry verbunden, während die Kathode mit dem Minuspol Bereich der Steckplatine verbunden wird. Die grüne LED ist eine RGB(Red Green Blue) LED. Diese LED kann die Farbe ändern, und wird im Fall einer erfolgreichen Registrierung oder Erkennung des Benutzers im System verwendet. Sie hat im Gegensatz zu der normalen LED 3 Anschlüsse. Der Minus Anschluss wird in dem Minuspol Bereich der Steckplatine eingeschlossen und der Pluspol Anschluss wird mit dem Pluspol Bereich der Steckplatine verbunden. Mit dem GPIO27 Pin des Raspberry wird der Datenanschluss verbunden. Die GPIO Pins sind extrem wichtig für die Integration der Tastern, LEDs und der anderen Bauteile in dem technischen und logischen Teil bzw. in der Software und in den verwendeten Skripten.	
\subsection{Software}
Nachdem der Aufbau und die verwendete Hardware des Systems beschrieben wurden, ist die Software dran. In diesem Unterkapitel wird alles was mit der logische Teil der Umsetzung zu tun hat: das verwendete Betriebssysteme, Programmiersprachen, Frameworks, Technologien und Planungsmethoden. Es wird jede Aufgabe zusammen mit der zugehörigen Lösung im Detail beschrieben und jedes programmiertes Skript erklärt.
\subsubsection{Verwendete Betriebssysteme, Programmiersprachen, Frameworks, Technologien und Planungsmethoden}
In diesem Teil des Projekts, das Gesichtserkennung heißt, werden für die Umsetzung verschiedene Technologien,  Frameworks und Planungsmethoden verwendet.
\begin{enumerate}
	\item \textit{Betriebssystem und Programmiersprache} \\
	\begin{itemize}
		\item Linux(Debian) \\
		Linux ist ein von die wichtigsten Betriebssystemen die zur Verfügung stehen. Linux wird meistens für Programmierungs- und Konfigurationszwecke. Die wichtigsten Bestandteile eines Betriebssystems sind der Bootloader, der Kernel, und das Init System. Linux würde für die Umsetzung dieses Projekts gewählt, obwohl es auch andere Möglichkeiten wie zum Beispiel Microsoft Windows gab. Die Gründe dieser Wahl sind die folgende: 
		\begin{itemize}
			\item Open Source und freie Software \\
			Linux wurde genutzt, weil es komplett kostenlos benutzt werden kann und weil es ein Open Source Betriebssystem ist. Vorteile eines Open Source Betriebssystems sind die niedrige Kosten, die hohe Sicherheit, die Transparenz und die Zuverlässigkeit. Was noch erwähnt zu werden ist, ist die gute Reputation der Open Source Software, weil nur hoch qualifizierte Entwickler mit ihnen sich beschäftigen.
			%https://wiki.opensourceecology.de/Vorteile/Nachteile_von_Open_Source_Software
			\item Hohe Sicherheit \\
			Für dieses Projekt ist Sicherheit sehr wichtig, und Linux bietet eine hohe Sicherheit. Es gibt keine Viren und sehr kleine Absturz Wahrscheinlichkeiten. Ein Backup ist auch sehr leicht machbar.
			\item Vielfältigkeit an Möglichkeiten und Benutzerfreiheit \\
			Linux wurde auch aufgrund der angebotenen Benutzerfreiheit und Benutzerfreundlichkeit verwendet. Beliebige Systemkonfigurationen, verschiedene Gesichtserkennungspakete(OpenCV\footnote{Open Computer Vision}) und andere Programme oder Technologien(Fritzing) sind von Linux leichter und günstiger erhältlich als bei anderen Betriebssystemen. Endlich ist der Raspberry PI auch kompatibler mit Linux.
			Als Linux Distribution wurde Debian gewählt. Gründe dafür sind die große Menge der angebotenen Pakete, die hohe Geschwindigkeit und die schnelle Fehlerkorrektur. 
			\cite{Linux}
			\begin{figure}[H]
				\includegraphics[scale=0.5]{\ordnerfigures debian.jpg}
				\centering
				\caption{Debian\cite{DebianBild}}
			\end{figure}	
		\end{itemize}
		
		\item Python \\
		Die gewählte Programmiersprache ist Python. Der wichtigste Grund dieser Wahl ist die einfache Verwendung der OPEN-CV Pakete für die Gesichtserkennung Algorithmen. Im Vergleich zu C werden die OpenCV Bibliotheken und Programmen viel leichter und schneller eingebunden. Python hat auch Vorteile im Bezug auf Skripten Einbindung oder Skripten Aufruf, weil ein oder zwei Output Parametern reichen würden, um zwei Skripten miteinander zu verbinden(Variablen, Funktionen usw. importieren). Es wurde Python Version 3 verwendet.
		\begin{figure}[H]
			\includegraphics[scale=0.5]{\ordnerfigures Python.jpg}
			\centering
			\caption{Python\cite{PythonBild}}
		\end{figure}
	\end{itemize}
	\item \textit{Frameworks} \\
	In diesem Projekt werden einige Frameworks verwendet, die weiter unten beschrieben werden.
	\begin{itemize}
		\item Open CV \\
		Das wichtigste Framework für dieses Projekt ist OpenCV. OpenCV ist eine Softwarebibliothek, die für Computer-Vision und maschinelles Lernen verwendet wird. Die Bibliothek verfügt über mehr als 2500 optimierte Algorithmen, die sowohl klassische als auch moderne Computer Vision- und maschinelle Lernalgorithmen umfassen. Diese Algorithmen können verwendet werden, um Gesichter zu registrieren und zu erkennen, um Objekte zu identifizieren, menschliche Handlungen in Videos zu klassifizieren und Kamerabewegungen zu verfolgen. Dieses Framework wurde deswegen gewählt, weil die Vielfältigkeit der angebotenen Optionen und Paketen einfach größer ist als bei anderen Frameworks. Ein anderer Vorteil ist das OpenCV Open-Source ist. Die größte Herausforderung ist die lange und komplizierte Installation auf Linux.
		\cite{OpenCV}
		\begin{figure}[H]
			\includegraphics[scale=0.5]{\ordnerfigures opencv.png}
			\centering
			\caption{Open CV\cite{OpenCVBild}}
		\end{figure}
		\item Git \\
		Git ist ein Versionsverwaltungssystem, das  für das Back-Up des Systems verwendet wurde. Dieses Framework ist ein verteiltes Versionsverwaltungssystem, das heißt, die unterschiedlichen Versionen der Dateien werden effizient gespeichert, in dem die ganze Repository vom Server kopiert wird. Dieses erlaubt dem Benutzer lokal zu arbeiten, und alle Änderungen nachträglich am Server zu aktualisieren. Nicht nur das, sondern auch die hohe Geschwindigkeit der Fehlerfindung und die perfekte Unterstützung von großen Projekten, in dem alle Teammitgliedern auf alle Daten Zugriff haben, waren die Gründe, warum Git für das Back-Up des Systems gewählt wurde.
		\cite{Git}
		\begin{figure}[H]
			\includegraphics[scale=0.5]{\ordnerfigures Git.png}
			\centering
			\caption{Git\cite{GitBild}}
		\end{figure}
	\end{itemize}
	\item \textit{Technologien} \\
	Das System braucht auch ein paar Technologien für die Umsetzung. Unter Technologien versteht man die Programme, die Systeme und die spezielle Komponenten, die benutzt worden sind.
	\begin{itemize}
		\item Raspberry Pi \\
		Wie es vorher erwähnt wurde in dem Gesichtserkennung Teil des Projekts statt ein Computer ein Raspberry Pi verwendet. Was ein Raspberry Pi ist wurde in dem Kapitel 7.2.1 erklärt. Die wichtigsten Gründe dieser Wahl werden aber erst jetzt genannt. Der kleinere Platzbedarf und die hohe Flexibilität des Raspberry PI sind wesentliche Vorteile. Die Bestandteile bewegen sich nicht, und es gibt keinen Lärm. Was sehr beliebt ist, ist, dass der Raspberry PI gleichzeitig für die Hardware(GPIO PINS) und die Software(wie ein normaler Computer) verwendet werden kann. Er unterstützt Linux(Raspbian) sehr gut. Ein der wichtigsten Gründe dieser Wahl ist auch, dass im Fall eines Fehlers ein Raspberry PI sehr schnell und problemlos geändert oder repariert werden kann. (Gibt es ein Problem mit der SD-Karte, dann muss sie geändert werden, und dann kann die Hardware wieder ganz normal genutzt werden. Wenn es ein Hardware Problem gibt, dann muss die alte SD-Karte in eine neue SD-Karte kloniert werden und nur ein anderes Raspberry verwendet werden. Somit sind alle Daten gespeichert und es ist möglich, mit Hilfe des anderen Raspberry Pi, sie zuzugreifen)
		\begin{figure}[H]
			\includegraphics[scale=0.5]{\ordnerfigures RaspberryPi.jpg}
			\centering
			\caption{Raspberry Pi\cite{RaspberryBild}}
		\end{figure}
		\item Fritzing \\
		Fritzing ist ein Programm das für die graphische Darstellung des Schaltkreises des Systems verwendet wurde. Durch dieses Programm wurde auch der Schaltplan des Systems erstellt(Abb.\ref{fig:Schaltplan}). Fritzing bietet eine sehr große Menge von elektronischen Komponenten und ein PCB, eine Steckplatine und einen Schematic View. In diesem Fall wurde die Breadboard View gewählt, weil dort alles übersichtlicher ist. Was noch gut ist, ist das Fritzing kostenlos im Linux angeboten wird, was für Windows nicht der Fall ist.
		\begin{figure}[H]
			\includegraphics[scale=0.5]{\ordnerfigures Fritzing.png}
			\centering
			\caption{Fritzing\cite{FritzingBild}}
		\end{figure}
		\item MySQL und MariaDB \\
		Um die Testdatenbanken zu erstellen und die Benutzerfotos und Benutzerdaten zu speichern, wurde die berühmteste Open-Source relationales Datenbank System, MySQL verwendet. Zusammen mit MySQL wurde auch die Pakete MariaDB auf dem System installiert, damit Python mit MySQL durch einer Schnittstelle verbunden wird. Mithilfe der MariaDB werden die ganzen Tabellen mit Daten gefüllt.
		\begin{figure}[H]
			\includegraphics[scale=0.5]{\ordnerfigures mysql.png}
			\centering	
			\caption{Mysql\cite{MysqlBild}}
		\end{figure}
		\begin{figure}[H]
			\includegraphics[scale=0.5]{\ordnerfigures mariadb.png}
			\centering	
			\caption{Mariadb\cite{MariadbBild}}
		\end{figure}
	\end{itemize}
	\item \textit{Planungsmethode} \\
	\begin{itemize}
		\item Structed Software Design \\
		Structed Software Design ist die Methode, die zur Planung des Systems verwendet wurde. Diese Software-Architektur ermöglicht den Entwurf, das Implementierungskonzept und das Integrationskonzept des Systems zu planen. Obwohl Structed Design großer Aufwand benötigt, hat diese Methode viele Vorteile, die bei der Wahl der Planungsmethode eine große Rolle gespielt haben: Structed Design verwendet Logik, ist von allem verstehbar, beschreibt alles ohne Abgrenzungen und ganz detailliert. Die wichtigsten Elemente die in der Structed Design beschrieben werden sind:
		\begin{itemize}
			\item Bubbel \\
			Die wichtigsten Arbeitsbereiche des Systems(Gesichtsregistrierung, Gesichtserkennung, Bildverarbeitung)
			\item Schnittstellen \\
			Sind die Interfaces, die die Verbindung zwischen die Bestandteile machen 
			\item Nachrichten \\
			Sind die geschickten Signale innerhalb des Systems.
			\item Flüsse \\
			Zeigen die Daten die innerhalb des Systems fließen.
			\item Modulen \\
			Bestandteil des Systems, das innerhalb liegt.
			\item Terminatoren \\
			Ähnlich mit der Modulen, aber befinden sich außerhalb des Systems und beeinflussen es von außen.
			\item definierte Abgrenzungen \\
			Mithilfe der Abgrenzungen wird vom Systemhersteller genau definiert, was er nicht machen wird, sei es auf Zeit-, Schwierigkeits-, oder Komplexitätsverbundende Gründe. Diese Abgrenzungen dienen dazu, dem Auftraggeber genau zu zeigen, was er erwarten kann, damit es keine Missverständnisse gibt.
			\cite{StructedDesign}
		\end{itemize}
	\end{itemize}
	Mithilfe der Structed Software Design wurden das Big Picture des Systems zusammen mit seine notwendige Iterationen, die mehr an das Gesichtserkennungsteil konzentriert sind, erstellt. (1.Ebene des Gesichtserkennungsteils)
\end{enumerate}
\subsubsection{Lösungsweg- Beschreibung und Erklärung}
Der Lösungsweg für die Umsetzung der Aufgaben der Gesichtserkennung ist streng mit einer guten vorherigen Planung verbunden. Deshalb wurde nicht nur das Big Picture(Großes Sicht des Systems nach Außen), die in die vorherigen Kapiteln beschrieben wurde erklärt, sondern auch die Erste Ebene des Gesichtserkennungsteils.
Die Big Picture sieht man unter Abb.\ref{fig:Big Picture}
\begin{figure}[H]
	\includegraphics[width=\textwidth]{\ordnerfigures Big_Picture.jpg}
	\caption{Big Picture}
	\label{fig:Big Picture}
\end{figure}	
Die erste Ebene sieht man unter Abb.\ref{fig:Erste Ebene}. Sie ist ein detaillierte Version des Big Picture, das sich nur auf dem Erkennungsteil konzentriert. Man spricht von einer Iteration, die hier passiert ist.  Folgend wird es die Vorgehensweiße und den Lösungsweg dieser Aufgabe mit Hilfe der 1.Ebene erklären und beschreiben.\\

\begin{figure}[H]
	\includegraphics[width=\textwidth]{\ordnerfigures diplom_11Ebene.png}
	\caption{Erste Ebene}
	\label{fig:Erste Ebene}
\end{figure}
\textbf{Einzelne Arbeitsschritte: } \\
\begin{enumerate}
	\item \textit{Erkennungstaster wird gedr{\"u}ckt} \\
	Will der Benutzer sich im System einloggen, muss er zuerst den Erkennungstaster dr{\"u}cken. Wird dieser Taster gedr{\"u}ckt, dann kriegt der Benutzer eine Anmeldung, bei der er seine Emailadresse eingeben muss. Um diese Aufgabe zu erledigen, muss das Paket RPi.GPIO importiert werden. Auf diese Weise ist der Zugriff auf den GPIO Pins m{\"o}glich, damit der Taster Zustand, oder der LED Zustand erkannt werden. Das Paket mysqldb wird auch ben{\"o}tigt, um Zugriff auf die Datenbank zu haben.
	\begin{lstlisting}
	if GPIO.input(17):
	exec(open('Existiert_nExistiert.py').read()) 
	\end{lstlisting} 
	\item \textit{Benutzer gibt seine Emailadresse ein} \\
	Es ist wichtig zu erw{\"a}hnen, dass für die Umsetzung dieses Systems es notwendig ist, die verschiedenen Skripten miteinander zu verbinden.  Deshalb müssen sie innerhalb anderer Skripten angerufen werden. Das wird durch Variablen gemacht. Deshalb ist das Importieren des Pakets sys n{\"o}tig.
	Der Benutzer gibt seine Emailadresse an, die danach verwendet wird, um in der Datenbank schneller auf die Benutzerbilddaten zuzugreifen.
	\item \textit{Bild wird gemacht und tempor{\"a}r gespeichert} \\
	Gleich nachdem der Benutzer sein Email eingegeben hat, macht die Kamera das Bild. Dieses Bild wird tempor{\"a}r gespeichert, weil es nach dem Vergleich mit dem Bild, das schon in der Datenbank liegt, nicht mehr benötigt wird. Sonst w{\"u}rde es extrem viele Bilderdaten in der Datenbank geben, die nur einmal verwendet werden. Stattdessen wird nur der Pfad des Bildes zusammen mit den extrahierten Punkten in der Datenbank gespeichert.
	\item \textit{Die Existenz derselben Emailadresse des Benutzers in der Datenbank wird geprüft} \\
		Dieser Schritt ist deswegen wichtig, weil falls die eingegebene Email nicht in der Datenbank existiert, muss das System die Bildvergleichung nicht machen. 
		\item \textit{Wird dieselbe Emailadresse in der Datenbank gefunden, werden die zugehörige Bildinformationen geladen} \\
		Falls aber die vom Benutzer eingegebene Emailadresse in der Datenbank ist, weißt das System Bescheid, dass ein Bilderdatenvergleich stattfinden muss. Um das zu erreichen, werden alle Bildinformationen geladen. Unter Bildinformationen sind die extrahierten Gesichtspunkte, mindestens 16, zu verstehen. Der kurze Codeabschnitt unten zeigt genau wie dies funktioniert.
		\begin{lstlisting}
		if b=="existiert":
		mycursor.execute(
		"""select * from info i \
		join person p \
		on i.idP=p.idP \
		where p.email='%s';"""%var1)
		myresult=mycursor.fetchall()
		for x in myresult:
		print(x)
		\end{lstlisting}
		\item \textit{Die Bildinformationen der beiden Bildern werden verglichen} \\
		Die wichtigste Aufgabe ist der Vergleich der Bildinformationen. Es werden die extrahierten Punkte der bereits gemachten Bilder mit der Punkten der schon in der Datenbank existierte Bildern verglichen. Dazu wird das wichtigste Paket, Open CV, ben{\"o}tigt. Nachdem dieses Paket importiert wurde, kann der Vergleich beginnen. In jedes Gesichtsbild wird ein Startpunkt bzw. Origin für den Vergleich bestimmt. Dieser Punkt ist der zentrale Punkt des Gesichts. Es wurde so gedacht, dass der Abstand von jedem anderem Gesichtspunkt mit dem Origin kalkuliert wurde. Dieser Abstand wird dann mit dem Abstand der Origin des zweiten Bildes und sein anderer Punkt. Die zwei Punkte, dessen Abstand mit den jeweiligen Startpunkten der Bilder kalkuliert ist, müssen miteinander einpassen(zum Beispiel ein Punkt der rechten Augen im ersten Bild muss mit dem zugehörigen Punkt in dem zweiten Bild verglichen werden). In dieser Wiese wird mit Hilfe vielen Tests eine Standard Toleranz kalkuliert. Passen die kalkulierten Toleranzen für jeder der 16 Punkte am Ende des Vergleichs zu der Standard Toleranzen, stimmt die Vergleichung, und die Bilder passen miteinander.
		\item \textit{Passen die beiden Bildern zusammen, wird der Benutzer eingeloggt.} \\
		Wenn das Vergleichsergebnis positiv ist, wird die gr{\"u}ne LED leuchten und der Benutzer darf weitermachen. Sonst wird die rote LED eingeschalten.\\
	\end{enumerate}
	\section{Herausforderungen, Probleme, und deren Lösung}
	W{\"a}hrend dieser Arbeit musste man mit einigen Problemen und Herausforderungen konfrontiert werden.
	\begin{itemize}
		\item \textit{OpenCV Installation}\\
		Die gr{\"o}ßte Probleme hat es bei der Installation von OpenCV gegeben. Diese Installation hat sehr lang gedauert und es war sehr schwer zu bestimmen, welche Paketen ausgelassen werden sollten und welche nicht. Dieses Problem wurde nach vielen Tests gel{\"o}st, durch das Kopieren von einer anderen SD-Karte, auf der OpenCV bereits installiert war. CMake und Make waren sehr wichtige Pakete, mit denen diese Aufgabe erledigt war.
		\item \textit{Fritzing} \\
		Das Problem beim Fritzing war folgendes, dass jedes Mal wenn das Programm beendet wurde, konnte es nicht mehr ge{\"o}ffnet werden. Es fehlten entweder die Pfaden oder die Bauteile, die f{\"u}r um die Schaltung zu bauen notwendig waren. Die L{\"o}sung war eigentlich sehr leicht. Das Programm wurde komplett gel{\"o}scht und dann wieder im System installiert, und danach wurde die ganze Schaltung gemacht, ohne das Programm zu beenden. Sonst wären dieselben Probleme wieder aufgetreten.
		\item \textit{Kurzschluss beim Raspberry Pi}\\
		Was noch passiert ist, ist das es beim Anfassen vom Raspberry PI ein Kurzschluss gab. Der Raspberry PI war kaputt und musste ersetzt werden. Glücklicherweise konnte die SD-Karte erfolgreich in kloniert werden und deshalb sind alle Daten und Informationen gespeichert.
		\item \textit{Pakete FaceRecognition Installation} \\
		Die Installation des Paketes FaceRecognition konnte nicht erfolgreich gemacht werden, weil die dlib Pakete auch gebraucht wird. Wahrscheinlich aufgrund des zu geringen RAMs kann diese Pakete nicht installiert werden. Dieses Problem wurde noch nicht gel{\"o}st.
		\item \textit{Probleme bei der Aufruf der Skripten } \\
		Am Beginn war das Umgehen mit der Skripten Aufrufe sehr schwer. Es war schwer zu verstehen wie das genau funktionierte, weil die große Variablenanzahl die Arbeit kompliziert machte. Dieser Anzahl wurde reduziert und es wurden viele Recherchen an der korrekten Verwendung von der sys Pakete gemacht um das Problem zu l{\"o}sen.
	\end{itemize}
	\section{Projektmanagement und Controlling}
	In Bezug auf Projektmanagement und Controlling wurde die Methode des Fehlerbaums verwendet. Diese ist eine ber{\"u}hmte Methode um die Aufwandsch{\"a}tzung zu kalkulieren und um eine Fehlerursache zu finden. Es wird der Problem in kleinen Teilen geschnitten damit es klarer wird. 
	\begin{figure}		\includegraphics[width=\textwidth]{\ordnerfigures IMG_4535.jpg}
		\caption{Fehlerbaum}
	\end{figure}
	Es wurde auch eine detaillierte Soll-Ist Analyse gemacht, die bei der neuen Aufgabeteilung sehr geholfen hat, und ein Balkendiagramm, das f{\"u}r die Organisation und Festlegung der Arbeitstermine dient.
	\section{Ergebnisse}
	Die bisherige Ergebnisse sind die folgenden:\\
	\begin{enumerate}
		\item Systemaufbau \\
		Das ganze System wurde zusammen mit der ganzen Hardware aufgebaut.
		\item Digitale Darstellung des Systemaufbaus\\
		Der Schaltplan des Systems wurde durch Fritzing digital dargestellt.
		\item Erkennung des Admins \\
		Der Admin wurde sofort vom System erkannt, mithilfe eines Skripts, dass OpenCV verwendet um das Adminbild mit den anderen Bildern zu vergleichen.
		\item Aufnahme der Benutzer Gesichtsdaten mithilfe der Emailadresse\\
		Gibt der Benutzer seine Emailadresse ein, werden die zugehörigen Gesichtsdaten von der Datenbank geladen, um den Vergleich zu machen.
	\end{enumerate}
	
	
